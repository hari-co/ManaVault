(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},2922:(e,t,s)=>{Promise.resolve().then(s.bind(s,7969)),Promise.resolve().then(s.t.bind(s,347,23))},4746:(e,t,s)=>{"use strict";s.d(t,{db:()=>i,j:()=>c});var a=s(3915),r=s(6203),n=s(5317);let o=(0,a.Dk)().length?(0,a.Dk)()[0]:(0,a.Wp)({apiKey:"AIzaSyAG8nkDy9a4f3VaPzNyKFCbAL7vAWXP39E",authDomain:"manavault-e2506.firebaseapp.com",projectId:"manavault-e2506",storageBucket:"manavault-e2506.firebasestorage.app",messagingSenderId:"384906228232",appId:"1:384906228232:web:1902c364b45ba6a2c617bd",measurementId:"G-5XN99F3RBC"}),c=(0,r.xI)(o),i=(0,n.getFirestore)(o)},7969:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var a=s(5155),r=s(6874),n=s.n(r),o=s(2115),c=s(4746),i=s(6203),l=s(5317),d=s(5695);let u=()=>{let[e,t]=(0,o.useState)(null),[s,r]=(0,o.useState)(""),[u,h]=(0,o.useState)(!1),m=(0,d.usePathname)(),x=(0,d.useRouter)();(0,o.useEffect)(()=>{let e=(0,i.hg)(c.j,async e=>{if(t(e),e)try{let t=await (0,l.getDoc)((0,l.doc)(c.db,"users",e.uid));t.exists()&&r(t.data().username||"")}catch(e){console.error("Error fetching username:",e)}else r("")});return()=>e()},[]),(0,o.useEffect)(()=>{let e=e=>{e.target.closest(".dropdown-container")||h(!1)};return u&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[u]);let b=async()=>{try{await (0,i.CI)(c.j),t(null),x.push("/")}catch(e){console.error("Error signing out:",e)}};return(0,a.jsx)("nav",{className:"/"===m?"flex absolute top-0 w-full z-50 bg-[#111e4100] text-white py-4 px-20 font-sans font-semibold h-14 justify-center":"flex top-0 z-50 bg-[#141823] text-white py-4 px-20 font-sans font-semibold h-14 justify-center border-b border-gray-500",children:(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,a.jsx)(n(),{href:"/",className:"hover:text-[#616dc9]",children:"ManaVault"}),(0,a.jsxs)("div",{className:"hidden md:flex space-x-6",children:[(0,a.jsx)(n(),{href:"/community",className:"hover:text-[#616dc9]",children:"Community"}),e?(0,a.jsxs)("div",{className:"flex space-x-6 items-center",children:[(0,a.jsx)(n(),{href:"/library",className:"hover:text-[#616dc9]",children:"Library"}),(0,a.jsxs)("div",{className:"relative dropdown-container",children:[(0,a.jsxs)("button",{onClick:()=>h(!u),className:"flex items-center space-x-2 hover:text-[#616dc9] group transition-colors",children:[(0,a.jsx)("div",{className:"w-5 h-5 bg-white group-hover:bg-[#616dc9] transition-colors",style:{maskImage:"url(/user.svg)",maskSize:"contain",maskRepeat:"no-repeat",maskPosition:"center",WebkitMaskImage:"url(/user.svg)",WebkitMaskSize:"contain",WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center"}}),(0,a.jsx)("span",{children:s})]}),u&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-[#141823] rounded-md shadow-lg py-1 z-50 border border-gray-600",children:[(0,a.jsx)(n(),{href:"/profile/".concat(e.uid),className:"block px-4 py-2 text-sm text-gray-300 hover:bg-[#1f2537] hover:text-white",onClick:()=>h(!1),children:"Profile"}),(0,a.jsx)("button",{onClick:()=>{h(!1),b()},className:"block w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-[#1f2537] hover:text-white",children:"Log Out"})]})]})]}):(0,a.jsxs)("div",{className:"flex space-x-6",children:[(0,a.jsx)(n(),{href:"/account/login",className:"hover:text-[#616dc9]",children:"Login"}),(0,a.jsx)(n(),{href:"/account/register",className:"hover:text-[#616dc9]",children:"Register"})]})]})]}),{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[690,992,811,75,874,441,684,358],()=>t(2922)),_N_E=e.O()}]);