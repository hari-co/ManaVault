(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[28],{545:(e,s,r)=>{Promise.resolve().then(r.bind(r,5102))},4746:(e,s,r)=>{"use strict";r.d(s,{db:()=>o,j:()=>i});var t=r(3915),a=r(6203),l=r(5317);let n=(0,t.Dk)().length?(0,t.Dk)()[0]:(0,t.Wp)({apiKey:"AIzaSyAG8nkDy9a4f3VaPzNyKFCbAL7vAWXP39E",authDomain:"manavault-e2506.firebaseapp.com",projectId:"manavault-e2506",storageBucket:"manavault-e2506.firebasestorage.app",messagingSenderId:"384906228232",appId:"1:384906228232:web:1902c364b45ba6a2c617bd",measurementId:"G-5XN99F3RBC"}),i=(0,a.xI)(n),o=(0,l.getFirestore)(n)},5102:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var t=r(5155),a=r(2115),l=r(6203),n=r(4746),i=r(5695),o=r(5317);function d(){let[e,s]=(0,a.useState)(null),[r,d]=(0,a.useState)(!0),[c,m]=(0,a.useState)(""),[h,u]=(0,a.useState)([]),[x,p]=(0,a.useState)(!1),[g,j]=(0,a.useState)(!1),b=(0,i.useRouter)();(0,a.useEffect)(()=>{let e=(0,l.hg)(n.j,e=>{s(e),d(!1)});return()=>e()},[b]);let N=async e=>{if(!e.trim()||e.length<2){u([]),j(!1);return}p(!0),j(!0);try{let s=(0,o.collection)(n.db,"users"),r=(0,o.query)(s,(0,o.where)("username",">=",e.toLowerCase()),(0,o.where)("username","<=",e.toLowerCase()+"ï£¿"),(0,o.orderBy)("username"),(0,o.limit)(20)),t=await (0,o.getDocs)(r),a=[];t.forEach(e=>{let s=e.data();a.push({id:e.id,username:s.username,displayName:s.displayName,email:s.email})}),u(a)}catch(e){console.error("Error searching users:",e),u([])}finally{p(!1)}},f=e=>{b.push("/profile/".concat(e))};return r?(0,t.jsx)("div",{className:"p-4",children:"Loading..."}):(0,t.jsx)("div",{className:"min-h-screen",style:{backgroundColor:"#181e2c"},children:(0,t.jsxs)("div",{className:"p-8 max-w-4xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-8 text-white",children:"Find Users"}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search for users by username...",value:c,onChange:e=>{let s=e.target.value;m(s);let r=setTimeout(()=>{N(s)},300);return()=>clearTimeout(r)},className:"w-full p-4 bg-[#141823] border border-gray-500 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#616dc9] transition-colors"}),(0,t.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:x?(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-[#616dc9]"}):(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),g&&(0,t.jsx)("div",{className:"space-y-4",children:h.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold text-white mb-4",children:["Found ",h.length," user",1!==h.length?"s":""]}),(0,t.jsx)("div",{className:"grid gap-4",children:h.map(e=>(0,t.jsx)("div",{className:"bg-[#141823] border border-gray-600 rounded-lg p-4 hover:border-[#616dc9] transition-colors cursor-pointer",onClick:()=>f(e.id),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-white",children:["@",e.username]}),e.displayName&&(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:e.displayName})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-[#616dc9]",children:[(0,t.jsx)("span",{className:"text-sm",children:"View Profile"}),(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},e.id))})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("svg",{className:"w-16 h-16 text-gray-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"No users found"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Try searching with a different username"})]})}),!g&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("svg",{className:"w-16 h-16 text-gray-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Discover the ManaVault Community"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Enter a username to find MTG collectors and explore their profiles and collections"})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[992,811,75,441,684,358],()=>s(545)),_N_E=e.O()}]);