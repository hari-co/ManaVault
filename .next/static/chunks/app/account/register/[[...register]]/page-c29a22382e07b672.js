(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{4746:(e,r,a)=>{"use strict";a.d(r,{db:()=>d,j:()=>l});var t=a(3915),s=a(6203),n=a(5317);let o=(0,t.Dk)().length?(0,t.Dk)()[0]:(0,t.Wp)({apiKey:"AIzaSyAG8nkDy9a4f3VaPzNyKFCbAL7vAWXP39E",authDomain:"manavault-e2506.firebaseapp.com",projectId:"manavault-e2506",storageBucket:"manavault-e2506.firebasestorage.app",messagingSenderId:"384906228232",appId:"1:384906228232:web:1902c364b45ba6a2c617bd",measurementId:"G-5XN99F3RBC"}),l=(0,s.xI)(o),d=(0,n.getFirestore)(o)},7666:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>u});var t=a(5155),s=a(2115),n=a(4746),o=a(6203),l=a(5317),d=a(5695);async function i(e,r,a){let t=await (0,l.getDoc)((0,l.doc)(n.db,"usernames",e));return r!==a?"Passwords do not match.":t.exists()?"Username is unavailable.":e.length<3||e.length>20?"Username must be between 3 and 20 characters.":/^[a-zA-Z0-9]+$/.test(e)?null:"Username can only contain alphanumeric characters."}function u(){let[e,r]=(0,s.useState)(""),[a,u]=(0,s.useState)(""),[c,b]=(0,s.useState)(""),[m,g]=(0,s.useState)(""),[f,h]=(0,s.useState)(""),[p,x]=(0,s.useState)(void 0),w=(0,d.useRouter)();(0,s.useEffect)(()=>{let e=(0,o.hg)(n.j,e=>{x(e),e&&w.push("/library")});return()=>e()});let y=async t=>{t.preventDefault();let s=await i(e,c,m);if(s)return void h(s);try{let t=await (0,o.eJ)(n.j,a,c),s=t.user.uid;try{await (0,l.setDoc)((0,l.doc)(n.db,"users",s),{username:e,email:a,createdAt:new Date}),await (0,l.setDoc)((0,l.doc)(n.db,"users",s,"profile","description"),{}),await (0,l.setDoc)((0,l.doc)(n.db,"users",s,"binders","all"),{name:"All Cards",index:0,color:"adadad"})}catch(e){h("Error creating user data. Please try again."),await t.user.delete();return}r(""),u(""),b(""),g(""),w.push("/library")}catch(e){h(e.message)}};return void 0===p?(0,t.jsx)("div",{}):!p&&(0,t.jsx)("div",{className:"bg-linear-to-br from-[#181e2c] via-[#1b1b4e] to-[#141823] flex justify-center items-center min-h-[calc(100vh-3.5rem)] w-full",children:(0,t.jsxs)("form",{className:"bg-[#141823]/70 flex flex-col p-6 rounded-xl shadow-md w-96 text-gray-50 font-sans space-y-3",onSubmit:y,children:[(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Register"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-300 mb-2 font-semibold tracking-wide",children:"Username"}),(0,t.jsx)("input",{className:"bg-gray-700/40 border border-gray-600 w-full h-10 rounded-md px-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4",type:"text",placeholder:"Username",value:e,onChange:e=>r(e.target.value),required:!0}),(0,t.jsx)("p",{className:"text-gray-300 mb-2 font-semibold tracking-wide",children:"Email"}),(0,t.jsx)("input",{className:"bg-gray-700/40 border border-gray-600 w-full h-10 rounded-md px-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4",type:"email",placeholder:"Email",value:a,onChange:e=>u(e.target.value),required:!0}),(0,t.jsx)("p",{className:"text-gray-300 mb-2 font-semibold tracking-wide",children:"Password"}),(0,t.jsx)("input",{className:"bg-gray-700/40 border border-gray-600 w-full h-10 rounded-md px-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4",type:"password",placeholder:"Password",value:c,onChange:e=>b(e.target.value),required:!0}),(0,t.jsx)("p",{className:"text-gray-300 mb-2 font-semibold tracking-wide",children:"Confirm Password"}),(0,t.jsx)("input",{className:"bg-gray-700/40 border border-gray-600 w-full h-10 rounded-md px-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"password",placeholder:"Confirm Password",value:m,onChange:e=>g(e.target.value),required:!0})]}),f&&(0,t.jsx)("p",{className:"text-red-400 text-center bg-red-900/20 border border-red-500/30 rounded-md p-3 font-medium",children:f}),(0,t.jsx)("button",{className:"bg-[#5d5fd4] hover:bg-[#3f4088] text-white font-bold rounded-md mt-4 p-2 transition-colors duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-[#141823] shadow-lg",type:"submit",children:"Register"})]})})}},8011:(e,r,a)=>{Promise.resolve().then(a.bind(a,7666))}},e=>{var r=r=>e(e.s=r);e.O(0,[992,811,75,441,684,358],()=>r(8011)),_N_E=e.O()}]);