{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alec%20Jiang/Documents/mtgTracker/mtgtracker/components/ProfileComponents/FollowButton.tsx"],"sourcesContent":["'use client'\r\nimport { useState, useEffect } from 'react';\r\nimport { User } from 'firebase/auth';\r\nimport { db } from '@/config/firebase-config';\r\nimport { doc, getDoc, setDoc, updateDoc, arrayUnion, arrayRemove } from 'firebase/firestore';\r\n\r\ninterface FollowButtonProps {\r\n  currentUser: User;\r\n  targetUserId: string;\r\n  isOwnProfile: boolean;\r\n}\r\n\r\nconst FollowButton: React.FC<FollowButtonProps> = ({ currentUser, targetUserId, isOwnProfile }) => {\r\n  const [isFollowing, setIsFollowing] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkFollowStatus = async () => {\r\n      if (!currentUser || isOwnProfile) return;\r\n\r\n      try {\r\n        const currentUserFollowingRef = doc(db, \"users\", currentUser.uid, \"profile\", \"following\");\r\n        const followingDoc = await getDoc(currentUserFollowingRef);\r\n        \r\n        if (followingDoc.exists()) {\r\n          const followingData = followingDoc.data();\r\n          const userIds = followingData.userIds || [];\r\n          setIsFollowing(userIds.includes(targetUserId));\r\n        } else {\r\n          setIsFollowing(false);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error checking follow status:\", error);\r\n      }\r\n    };\r\n\r\n    checkFollowStatus();\r\n  }, [currentUser, targetUserId, isOwnProfile]);\r\n\r\n  const handleFollowToggle = async () => {\r\n    if (!currentUser || loading) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const currentUserFollowingRef = doc(db, \"users\", currentUser.uid, \"profile\", \"following\");\r\n      const targetUserFollowersRef = doc(db, \"users\", targetUserId, \"profile\", \"followers\");\r\n\r\n      if (isFollowing) {\r\n        await updateDoc(currentUserFollowingRef, {\r\n          userIds: arrayRemove(targetUserId)\r\n        }).catch(async () => {\r\n          await setDoc(currentUserFollowingRef, {\r\n            userIds: []\r\n          });\r\n        });\r\n\r\n        await updateDoc(targetUserFollowersRef, {\r\n          userIds: arrayRemove(currentUser.uid)\r\n        }).catch(async () => {\r\n          await setDoc(targetUserFollowersRef, {\r\n            userIds: []\r\n          });\r\n        });\r\n      } else {\r\n        await updateDoc(currentUserFollowingRef, {\r\n          userIds: arrayUnion(targetUserId)\r\n        }).catch(async () => {\r\n          await setDoc(currentUserFollowingRef, {\r\n            userIds: [targetUserId]\r\n          });\r\n        });\r\n\r\n        await updateDoc(targetUserFollowersRef, {\r\n          userIds: arrayUnion(currentUser.uid)\r\n        }).catch(async () => {\r\n          await setDoc(targetUserFollowersRef, {\r\n            userIds: [currentUser.uid]\r\n          });\r\n        });\r\n      }\r\n\r\n      setIsFollowing(!isFollowing);\r\n    } catch (error) {\r\n      console.error(\"Error updating follow status:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!currentUser || isOwnProfile) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <button\r\n      onClick={handleFollowToggle}\r\n      disabled={loading}\r\n      className={`px-4 py-1 rounded text-sm font-medium transition-colors disabled:opacity-50 ${\r\n        isFollowing\r\n          ? 'bg-gray-600 text-white hover:bg-red-600 hover:text-white'\r\n          : 'bg-[#616dc9] text-white hover:bg-[#5159b3]'\r\n      }`}\r\n    >\r\n      {loading ? 'Loading...' : (isFollowing ? 'Following' : 'Follow')}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default FollowButton;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alec%20Jiang/Documents/mtgTracker/mtgtracker/components/ProfileComponents/FollowingModal.tsx"],"sourcesContent":["\"use client\"\r\nimport { useEffect, useState } from 'react';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\nimport { db } from '@/config/firebase-config';\r\nimport Link from 'next/link';\r\n\r\ninterface FollowingModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  userId: string;\r\n  followingCount: number;\r\n}\r\n\r\ninterface UserData {\r\n  username: string;\r\n  email: string;\r\n  uid: string;\r\n}\r\n\r\nexport default function FollowingModal({ isOpen, onClose, userId, followingCount }: FollowingModalProps) {\r\n  const [followingUsers, setFollowingUsers] = useState<UserData[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isOpen && followingCount > 0) {\r\n      fetchFollowingUsers();\r\n    }\r\n  }, [isOpen, userId, followingCount]);\r\n\r\n  const fetchFollowingUsers = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const followingRef = doc(db, \"users\", userId, \"profile\", \"following\");\r\n      const followingDoc = await getDoc(followingRef);\r\n      \r\n      if (followingDoc.exists()) {\r\n        const followingData = followingDoc.data();\r\n        const userIds = followingData.userIds || [];\r\n        \r\n        const usersData = await Promise.all(\r\n          userIds.map(async (uid: string) => {\r\n            const userDoc = await getDoc(doc(db, \"users\", uid));\r\n            if (userDoc.exists()) {\r\n              return { ...userDoc.data(), uid } as UserData & { uid: string };\r\n            }\r\n            return null;\r\n          })\r\n        );\r\n        \r\n        setFollowingUsers(usersData.filter(user => user !== null) as (UserData & { uid: string })[]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching following users:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 bg-[#000000b2] flex items-center justify-center z-50\"\r\n      onClick={onClose}\r\n    >\r\n      <div \r\n        className=\"bg-[#141823] rounded-lg p-6 w-96 max-h-96 overflow-y-auto border border-gray-500 transform transition-all duration-300 scale-100\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-xl font-semibold\">Following ({followingCount})</h2>\r\n          <button \r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-white transition-colors\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"text-center py-4\">\r\n            <div className=\"text-gray-400\">Loading...</div>\r\n          </div>\r\n        ) : followingUsers.length === 0 ? (\r\n          <div className=\"text-center py-4\">\r\n            <div className=\"text-gray-400\">Not following anyone yet.</div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-3\">\r\n            {followingUsers.map((user, index) => (\r\n              <div key={user.uid} className=\"flex items-center space-x-3 p-2 hover:bg-[#181e2c] rounded transition-colors\">\r\n                <div className=\"w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center flex-shrink-0\">\r\n                  <div \r\n                    className=\"w-5 h-5 bg-gray-400\"\r\n                    style={{\r\n                      maskImage: 'url(/user.svg)',\r\n                      maskSize: 'contain',\r\n                      maskRepeat: 'no-repeat',\r\n                      maskPosition: 'center',\r\n                      WebkitMaskImage: 'url(/user.svg)',\r\n                      WebkitMaskSize: 'contain',\r\n                      WebkitMaskRepeat: 'no-repeat',\r\n                      WebkitMaskPosition: 'center'\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Link href={`/profile/${user.uid}`} className=\"font-medium text-white hover:text-[#616dc9] transition-colors\">{user.username}</Link>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alec%20Jiang/Documents/mtgTracker/mtgtracker/components/ProfileComponents/FollowersModal.tsx"],"sourcesContent":["\"use client\"\r\nimport { useEffect, useState } from 'react';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\nimport { db } from '@/config/firebase-config';\r\nimport Link from 'next/link';\r\n\r\ninterface FollowersModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  userId: string;\r\n  followersCount: number;\r\n}\r\n\r\ninterface UserData {\r\n  username: string;\r\n  email: string;\r\n  uid: string;\r\n}\r\n\r\nexport default function FollowersModal({ isOpen, onClose, userId, followersCount }: FollowersModalProps) {\r\n  const [followersUsers, setFollowersUsers] = useState<UserData[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isOpen && followersCount > 0) {\r\n      fetchFollowersUsers();\r\n    }\r\n  }, [isOpen, userId, followersCount]);\r\n\r\n  const fetchFollowersUsers = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const followersRef = doc(db, \"users\", userId, \"profile\", \"followers\");\r\n      const followersDoc = await getDoc(followersRef);\r\n      \r\n      if (followersDoc.exists()) {\r\n        const followersData = followersDoc.data();\r\n        const userIds = followersData.userIds || [];\r\n        \r\n        const usersData = await Promise.all(\r\n          userIds.map(async (uid: string) => {\r\n            const userDoc = await getDoc(doc(db, \"users\", uid));\r\n            if (userDoc.exists()) {\r\n              return { ...userDoc.data(), uid } as UserData & { uid: string };\r\n            }\r\n            return null;\r\n          })\r\n        );\r\n        \r\n        setFollowersUsers(usersData.filter(user => user !== null) as (UserData & { uid: string })[]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching followers users:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 bg-[#000000b2] flex items-center justify-center z-50\"\r\n      onClick={onClose}\r\n    >\r\n      <div \r\n        className=\"bg-[#141823] rounded-lg p-6 w-96 max-h-96 overflow-y-auto border border-gray-500 transform transition-all duration-300 scale-100\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-xl font-semibold\">Followers ({followersCount})</h2>\r\n          <button \r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-white transition-colors\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"text-center py-4\">\r\n            <div className=\"text-gray-400\">Loading...</div>\r\n          </div>\r\n        ) : followersUsers.length === 0 ? (\r\n          <div className=\"text-center py-4\">\r\n            <div className=\"text-gray-400\">No followers yet.</div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-3\">\r\n            {followersUsers.map((user, index) => (\r\n              <div key={user.uid} className=\"flex items-center space-x-3 p-2 hover:bg-[#181e2c] rounded transition-colors\">\r\n                <div className=\"w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center flex-shrink-0\">\r\n                  <div \r\n                    className=\"w-5 h-5 bg-gray-400\"\r\n                    style={{\r\n                      maskImage: 'url(/user.svg)',\r\n                      maskSize: 'contain',\r\n                      maskRepeat: 'no-repeat',\r\n                      maskPosition: 'center',\r\n                      WebkitMaskImage: 'url(/user.svg)',\r\n                      WebkitMaskSize: 'contain',\r\n                      WebkitMaskRepeat: 'no-repeat',\r\n                      WebkitMaskPosition: 'center'\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Link href={`/profile/${user.uid}`} className=\"font-medium text-white hover:text-[#616dc9] transition-colors\">{user.username}</Link>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 572, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alec%20Jiang/Documents/mtgTracker/mtgtracker/components/ProfileComponents/FollowersSection.tsx"],"sourcesContent":["\"use client\"\r\nimport { useState, useEffect } from 'react';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\nimport { db } from '@/config/firebase-config';\r\nimport Link from 'next/link';\r\nimport FollowingModal from './FollowingModal';\r\nimport FollowersModal from './FollowersModal';\r\n\r\ninterface FollowersSectionProps {\r\n  followingCount: number;\r\n  followersCount: number;\r\n  isOwnProfile: boolean;\r\n  userId: string;\r\n}\r\n\r\ninterface UserData {\r\n  username: string;\r\n  email: string;\r\n  uid: string;\r\n}\r\n\r\nexport default function FollowersSection({ \r\n  followingCount, \r\n  followersCount, \r\n  isOwnProfile,\r\n  userId \r\n}: FollowersSectionProps) {\r\n  const [showFollowingModal, setShowFollowingModal] = useState(false);\r\n  const [showFollowersModal, setShowFollowersModal] = useState(false);\r\n  const [followingPreview, setFollowingPreview] = useState<UserData[]>([]);\r\n  const [followersPreview, setFollowersPreview] = useState<UserData[]>([]);\r\n  const [loadingPreviews, setLoadingPreviews] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchPreviews();\r\n  }, [userId, followingCount, followersCount]);\r\n\r\n  const fetchPreviews = async () => {\r\n    setLoadingPreviews(true);\r\n    try {\r\n      const followingRef = doc(db, \"users\", userId, \"profile\", \"following\");\r\n      const followingDoc = await getDoc(followingRef);\r\n      \r\n      if (followingDoc.exists()) {\r\n        const followingData = followingDoc.data();\r\n        const userIds = followingData.userIds || [];\r\n        const limitedUserIds = userIds.slice(0, 7);\r\n        \r\n        const followingUsersData = await Promise.all(\r\n          limitedUserIds.map(async (uid: string) => {\r\n            const userDoc = await getDoc(doc(db, \"users\", uid));\r\n            if (userDoc.exists()) {\r\n              return { ...userDoc.data(), uid } as UserData;\r\n            }\r\n            return null;\r\n          })\r\n        );\r\n        \r\n        setFollowingPreview(followingUsersData.filter(user => user !== null) as UserData[]);\r\n      }\r\n\r\n      const followersRef = doc(db, \"users\", userId, \"profile\", \"followers\");\r\n      const followersDoc = await getDoc(followersRef);\r\n      \r\n      if (followersDoc.exists()) {\r\n        const followersData = followersDoc.data();\r\n        const userIds = followersData.userIds || [];\r\n        const limitedUserIds = userIds.slice(0, 7);\r\n        \r\n        const followersUsersData = await Promise.all(\r\n          limitedUserIds.map(async (uid: string) => {\r\n            const userDoc = await getDoc(doc(db, \"users\", uid));\r\n            if (userDoc.exists()) {\r\n              return { ...userDoc.data(), uid } as UserData;\r\n            }\r\n            return null;\r\n          })\r\n        );\r\n        \r\n        setFollowersPreview(followersUsersData.filter(user => user !== null) as UserData[]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching preview data:\", error);\r\n    } finally {\r\n      setLoadingPreviews(false);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"w-80\">\r\n      <div className=\"bg-[#141823] shadow rounded-lg p-6 border border-gray-500\">\r\n        <div className=\"space-y-8\">\r\n          <div>\r\n            <button \r\n              onClick={() => setShowFollowingModal(true)}\r\n              className=\"text-xl font-semibold mb-3 hover:text-[#616dc9] transition-colors cursor-pointer\"\r\n            >\r\n              Following ({followingCount})\r\n            </button>\r\n            <div className=\"space-y-2 min-h-[280px]\">\r\n              {loadingPreviews ? (\r\n                <div className=\"text-xs text-gray-400\">Loading...</div>\r\n              ) : followingCount === 0 ? (\r\n                <div className=\"text-sm text-gray-500\">\r\n                  {isOwnProfile ? \"You're not following anyone yet.\" : \"Not following anyone yet.\"}\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-2\">\r\n                  {followingPreview.map((user) => (\r\n                    <div key={user.uid} className=\"flex items-center space-x-3 p-2 hover:bg-[#181e2c] rounded transition-colors\">\r\n                      <div className=\"w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center flex-shrink-0\">\r\n                        <div \r\n                          className=\"w-5 h-5 bg-gray-400\"\r\n                          style={{\r\n                            maskImage: 'url(/user.svg)',\r\n                            maskSize: 'contain',\r\n                            maskRepeat: 'no-repeat',\r\n                            maskPosition: 'center',\r\n                            WebkitMaskImage: 'url(/user.svg)',\r\n                            WebkitMaskSize: 'contain',\r\n                            WebkitMaskRepeat: 'no-repeat',\r\n                            WebkitMaskPosition: 'center'\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <Link href={`/profile/${user.uid}`} className=\"text-sm text-white hover:text-[#616dc9] transition-colors\">\r\n                        {user.username}\r\n                      </Link>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <button \r\n              onClick={() => setShowFollowersModal(true)}\r\n              className=\"text-xl font-semibold mb-3 hover:text-[#616dc9] transition-colors cursor-pointer\"\r\n            >\r\n              Followers ({followersCount})\r\n            </button>\r\n            <div className=\"space-y-2 min-h-[280px]\">\r\n              {loadingPreviews ? (\r\n                <div className=\"text-xs text-gray-400\">Loading...</div>\r\n              ) : followersCount === 0 ? (\r\n                <div className=\"text-sm text-gray-500\">\r\n                  {isOwnProfile ? \"No followers yet.\" : \"No followers.\"}\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-2\">\r\n                  {followersPreview.map((user) => (\r\n                    <div key={user.uid} className=\"flex items-center space-x-3 p-2 hover:bg-[#181e2c] rounded transition-colors\">\r\n                      <div className=\"w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center flex-shrink-0\">\r\n                        <div \r\n                          className=\"w-5 h-5 bg-gray-400\"\r\n                          style={{\r\n                            maskImage: 'url(/user.svg)',\r\n                            maskSize: 'contain',\r\n                            maskRepeat: 'no-repeat',\r\n                            maskPosition: 'center',\r\n                            WebkitMaskImage: 'url(/user.svg)',\r\n                            WebkitMaskSize: 'contain',\r\n                            WebkitMaskRepeat: 'no-repeat',\r\n                            WebkitMaskPosition: 'center'\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <Link href={`/profile/${user.uid}`} className=\"text-sm text-white hover:text-[#616dc9] transition-colors\">\r\n                        {user.username}\r\n                      </Link>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <FollowingModal \r\n        isOpen={showFollowingModal}\r\n        onClose={() => setShowFollowingModal(false)}\r\n        userId={userId}\r\n        followingCount={followingCount}\r\n      />\r\n      \r\n      <FollowersModal \r\n        isOpen={showFollowersModal}\r\n        onClose={() => setShowFollowersModal(false)}\r\n        userId={userId}\r\n        followersCount={followersCount}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 894, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alec%20Jiang/Documents/mtgTracker/mtgtracker/src/app/profile/%5BuserID%5D/page.tsx"],"sourcesContent":["\"use client\"\r\nimport { useEffect, useState } from 'react';\r\nimport { onAuthStateChanged, User } from 'firebase/auth';\r\nimport { auth, db } from '@/config/firebase-config';\r\nimport { doc, getDoc, setDoc } from 'firebase/firestore';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport FollowButton from '../../../../components/ProfileComponents/FollowButton';\r\nimport FollowersSection from '../../../../components/ProfileComponents/FollowersSection';\r\n\r\ninterface UserProfile {\r\n  username: string;\r\n  email: string;\r\n  createdAt: any;\r\n  description?: string;\r\n}\r\n\r\nexport default function Profile() {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [profile, setProfile] = useState<UserProfile | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [followingCount, setFollowingCount] = useState(0);\r\n  const [followersCount, setFollowersCount] = useState(0);\r\n  const [isEditingBio, setIsEditingBio] = useState(false);\r\n  const [bioText, setBioText] = useState('');\r\n  const router = useRouter();\r\n  const params = useParams<{userID: string}>()\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, async (user: User | null) => {\r\n      setUser(user);\r\n\r\n      try {\r\n        const userDoc = await getDoc(doc(db, \"users\", params.userID));\r\n        if (userDoc.exists()) {\r\n          const userData = userDoc.data() as UserProfile;\r\n          setProfile(userData);\r\n        }\r\n\r\n        const descriptionRef = doc(db, \"users\", params.userID, \"profile\", \"description\");\r\n        const descriptionDoc = await getDoc(descriptionRef);\r\n        if (descriptionDoc.exists()) {\r\n          const descriptionData = descriptionDoc.data();\r\n          const description = descriptionData.description || '';\r\n          setBioText(description);\r\n          setProfile(prev => prev ? { ...prev, description } : null);\r\n        } else {\r\n          setBioText('');\r\n        }\r\n\r\n        const followingRef = doc(db, \"users\", params.userID, \"profile\", \"following\");\r\n        const followingDoc = await getDoc(followingRef);\r\n        if (followingDoc.exists()) {\r\n          const followingData = followingDoc.data();\r\n          const userIds = followingData.userIds || [];\r\n          setFollowingCount(userIds.length);\r\n        } else {\r\n          setFollowingCount(0);\r\n        }\r\n\r\n        const followersRef = doc(db, \"users\", params.userID, \"profile\", \"followers\");\r\n        const followersDoc = await getDoc(followersRef);\r\n        if (followersDoc.exists()) {\r\n          const followersData = followersDoc.data();\r\n          const userIds = followersData.userIds || [];\r\n          setFollowersCount(userIds.length);\r\n        } else {\r\n          setFollowersCount(0);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching profile:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    });\r\n    return () => unsubscribe();\r\n  }, [router, params.userID]);\r\n\r\n  const handleEditBio = () => {\r\n    setIsEditingBio(true);\r\n  };\r\n\r\n  const handleSaveBio = async () => {\r\n    if (!user) return; // Only allow authenticated users to edit\r\n    \r\n    try {\r\n      const profileRef = doc(db, \"users\", params.userID, \"profile\", \"description\");\r\n      await setDoc(profileRef, { description: bioText });\r\n      \r\n      setProfile(prev => prev ? { ...prev, description: bioText } : null);\r\n      setIsEditingBio(false);\r\n    } catch (error) {\r\n      console.error(\"Error updating bio:\", error);\r\n    }\r\n  };\r\n\r\n  const handleCancelBio = () => {\r\n    setBioText(profile?.description || '');\r\n    setIsEditingBio(false);\r\n  };\r\n\r\n  const isOwnProfile = user?.uid === params.userID;\r\n\r\n  if (loading) {\r\n    return <div className=\"p-4\">Loading...</div>;\r\n  }\r\n\r\n  if (!profile) {\r\n    return <div className=\"p-4\">Profile not found</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8 max-w-7xl mx-auto\">\r\n      <h1 className=\"text-3xl font-bold mb-6\">Profile</h1>\r\n      \r\n      <div className=\"flex gap-6\">\r\n        <div className=\"flex-1 space-y-6\">\r\n          <div className=\"bg-[#141823] shadow rounded-lg p-6 border border-gray-500 h-[720px]\">\r\n            <div className=\"flex items-start space-x-4 mb-4\">\r\n              <div className=\"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center flex-shrink-0\">\r\n                <div \r\n                  className=\"w-8 h-8 bg-gray-400\"\r\n                  style={{\r\n                    maskImage: 'url(/user.svg)',\r\n                    maskSize: 'contain',\r\n                    maskRepeat: 'no-repeat',\r\n                    maskPosition: 'center',\r\n                    WebkitMaskImage: 'url(/user.svg)',\r\n                    WebkitMaskSize: 'contain',\r\n                    WebkitMaskRepeat: 'no-repeat',\r\n                    WebkitMaskPosition: 'center'\r\n                  }}\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"flex flex-1 min-w-0 space-x-4\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <div className=\"flex items-center space-x-3 mb-1\">\r\n                    <h2 className=\"text-2xl font-bold text-white\">{profile.username}</h2>\r\n                    {user && (\r\n                      <FollowButton \r\n                        currentUser={user}\r\n                        targetUserId={params.userID}\r\n                        isOwnProfile={isOwnProfile}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                  <p className=\"text-sm text-gray-400\">\r\n                    Member since {profile.createdAt?.toDate?.()?.toLocaleDateString() || 'Unknown'}\r\n                  </p>\r\n                  <button \r\n                    onClick={() => router.push(`/library/${params.userID}`)}\r\n                    className=\"mt-2 px-4 py-2 text-sm bg-[#616dc9] text-white rounded hover:bg-[#5159b3] transition-colors\"\r\n                  >\r\n                    View Library\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"flex-1 min-w-0\">\r\n                  <div className=\"text-sm text-gray-300 min-h-[120px]\">\r\n                    {isEditingBio ? (\r\n                      <div className=\"space-y-2\">\r\n                        <textarea\r\n                          value={bioText}\r\n                          onChange={(e) => setBioText(e.target.value)}\r\n                          placeholder=\"Tell the community about yourself!\"\r\n                          className=\"w-full p-2 bg-[#181e2c] border border-gray-500 rounded text-sm text-white resize-none\"\r\n                          rows={3}\r\n                          maxLength={200}\r\n                        />\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <span className=\"text-xs text-gray-400\">{bioText.length}/200</span>\r\n                          <div className=\"space-x-2\">\r\n                            <button\r\n                              onClick={handleCancelBio}\r\n                              className=\"px-3 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-500 transition-colors\"\r\n                            >\r\n                              Cancel\r\n                            </button>\r\n                            <button\r\n                              onClick={handleSaveBio}\r\n                              className=\"px-3 py-1 text-xs bg-[#616dc9] text-white rounded hover:bg-[#5159b3] transition-colors\"\r\n                            >\r\n                              Save\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"flex items-start justify-between\">\r\n                        <p className={profile?.description ? \"text-gray-300\" : \"italic text-gray-400\"}>\r\n                          {profile?.description || \"No bio yet. Tell the community about yourself!\"}\r\n                        </p>\r\n                        {isOwnProfile && (\r\n                          <button \r\n                            onClick={handleEditBio}\r\n                            className=\"ml-2 px-3 py-1 text-xs bg-[#616dc9] text-white rounded hover:bg-[#5159b3] transition-colors flex-shrink-0\"\r\n                          >\r\n                            Edit Bio\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <FollowersSection \r\n          followingCount={followingCount}\r\n          followersCount={followersCount}\r\n          isOwnProfile={isOwnProfile}\r\n          userId={params.userID}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}