{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alec%20Jiang/Documents/mtgTracker/mtgtracker/src/app/account/settings/page.tsx"],"sourcesContent":["\"use client\"\r\nimport { useEffect, useState } from 'react';\r\nimport { onAuthStateChanged, User } from 'firebase/auth';\r\nimport { auth, db } from '@/config/firebase-config';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ninterface UserProfile {\r\n  username: string;\r\n  email: string;\r\n  createdAt: any;\r\n}\r\n\r\nexport default function Settings() {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [profile, setProfile] = useState<UserProfile | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [currentPassword, setCurrentPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, async (user: User | null) => {\r\n      setUser(user);\r\n      if (!user) {\r\n        router.push('/account/login');\r\n        return;\r\n      }\r\n\r\n      // Fetch user profile data\r\n      try {\r\n        const userDoc = await getDoc(doc(db, \"users\", user.uid));\r\n        if (userDoc.exists()) {\r\n          const profileData = userDoc.data() as UserProfile;\r\n          setProfile(profileData);\r\n          setUsername(profileData.username);\r\n          setEmail(profileData.email);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching profile:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    });\r\n    return () => unsubscribe();\r\n  }, [router]);\r\n\r\n  const handleUsernameChange = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    // Logic for updating username will be implemented later\r\n    console.log('Update username to:', username);\r\n  };\r\n\r\n  const handleEmailChange = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    // Logic for updating email will be implemented later\r\n    console.log('Update email to:', email);\r\n  };\r\n\r\n  const handlePasswordChange = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    // Logic for updating password will be implemented later\r\n    console.log('Update password');\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"p-4\">Loading...</div>;\r\n  }\r\n\r\n  if (!user || !profile) {\r\n    return <div className=\"p-4\">Profile not found</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8 max-w-2xl mx-auto\">\r\n      <h1 className=\"text-3xl font-bold mb-6\">Account Settings</h1>\r\n      \r\n      {/* Username Section */}\r\n      <div className=\"bg-white shadow rounded-lg p-6 mb-6\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Username</h2>\r\n        <form onSubmit={handleUsernameChange}>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Current Username\r\n            </label>\r\n            <p className=\"text-sm text-gray-500 mb-4\">{profile.username}</p>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              New Username\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#616dc9] focus:border-transparent\"\r\n              placeholder=\"Enter new username\"\r\n            />\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-[#616dc9] text-white px-4 py-2 rounded hover:bg-[#5159b3] transition-colors\"\r\n          >\r\n            Update Username\r\n          </button>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Email Section */}\r\n      <div className=\"bg-white shadow rounded-lg p-6 mb-6\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Email Address</h2>\r\n        <form onSubmit={handleEmailChange}>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Current Email\r\n            </label>\r\n            <p className=\"text-sm text-gray-500 mb-4\">{profile.email}</p>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              New Email\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#616dc9] focus:border-transparent\"\r\n              placeholder=\"Enter new email address\"\r\n            />\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-[#616dc9] text-white px-4 py-2 rounded hover:bg-[#5159b3] transition-colors\"\r\n          >\r\n            Update Email\r\n          </button>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Password Section */}\r\n      <div className=\"bg-white shadow rounded-lg p-6\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Password</h2>\r\n        <form onSubmit={handlePasswordChange}>\r\n          <div className=\"space-y-4 mb-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Current Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                value={currentPassword}\r\n                onChange={(e) => setCurrentPassword(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#616dc9] focus:border-transparent\"\r\n                placeholder=\"Enter current password\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                New Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                value={newPassword}\r\n                onChange={(e) => setNewPassword(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#616dc9] focus:border-transparent\"\r\n                placeholder=\"Enter new password\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Confirm New Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                value={confirmPassword}\r\n                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#616dc9] focus:border-transparent\"\r\n                placeholder=\"Confirm new password\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-[#616dc9] text-white px-4 py-2 rounded hover:bg-[#5159b3] transition-colors\"\r\n          >\r\n            Update Password\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}