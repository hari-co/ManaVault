{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alec%20Jiang/Documents/mtgTracker/mtgtracker/components/cardsearch.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { auth, db } from \"@/config/firebase-config\";\r\nimport { onAuthStateChanged, User } from \"firebase/auth\";\r\nimport { doc, collection, addDoc, setDoc, getDoc } from \"firebase/firestore\";\r\nimport { useFirebaseUser } from \"@/hooks/useFirebaseUser\";\r\n\r\nconst CardSearch: React.FC = () => {\r\n    const [query, setQuery] = useState(\"\");\r\n    const [results, setResults] = useState<string[]>([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [showSuggestions, setShowSuggestions] = useState(false);\r\n    const user = getFirebaseUser();\r\n\r\n    const handleChange = async (e:React.ChangeEvent<HTMLInputElement>) => {\r\n        const value = e.target.value\r\n        setQuery(value);\r\n\r\n        if (value.length < 3) {\r\n            setResults([]);\r\n            setShowSuggestions(false);\r\n            return;\r\n        } else {\r\n            setLoading(true);\r\n            const response = await fetch(`https://api.scryfall.com/cards/autocomplete?q=${encodeURIComponent(value)}`);\r\n            const data = await response.json();\r\n            setResults(data.data || []);\r\n            setLoading(false);\r\n            setShowSuggestions(true)\r\n        }\r\n    };\r\n\r\n    const fetchCard = async (cardName: string) => {\r\n        try {\r\n            const res = await fetch (`https://api.scryfall.com/cards/named?exact=${encodeURIComponent(cardName)}`);\r\n            if (!res.ok) throw new Error(\"Card not found\");\r\n            const data = await res.json();\r\n            const fields = {\r\n                card_name: data.name,\r\n                scryfallId: data.id,\r\n                tcgplayerId: data.tcgplayer_id,\r\n                tcgplayerEtchedId: data.tcgplayer_etched_id,\r\n                cardMarketId: data.card_market_id,\r\n                lang: data.lang,\r\n                layout: data.layout,\r\n                uri: data.uri,\r\n                scryfallUri: data.scryfall_uri,\r\n                prints_search_uri: data.prints_search_uri,\r\n                all_parts: data.all_parts ? data.all_parts.map((part: any) => ({\r\n                    name: part.name,\r\n                })) : [],\r\n                card_faces: data.card_faces ? data.card_faces.map((face: any) => ({\r\n                    name: face.name,\r\n                })) : [],\r\n                cmc: data.cmc,\r\n                color_identity: data.color_identity,\r\n                color_indicator: data.color_indicator,\r\n                colors: data.colors,\r\n                defense: data.defense,\r\n                edhrank: data.edhrec_rank,\r\n                game_changer: data.game_changer,\r\n                keywords: data.keywords,\r\n                legality: data.legalities,\r\n                loyalty: data.loyalty,\r\n                mana_cost: data.mana_cost,\r\n                oracle_text: data.oracle_text,\r\n                power: data.power,\r\n                produced_mana: data.produced_mana,\r\n                reserved: data.reserved,\r\n                toughness: data.toughness,\r\n                type_line: data.type_line,\r\n                artist: data.artist,\r\n                frame: data.frame,\r\n                frame_effects: data.frame_effects,\r\n                full_art: data.full_art,\r\n                oversized: data.oversized,\r\n                prices: data.prices,\r\n                promo: data.promo,\r\n                rarity: data.rarity,\r\n                reprint: data.reprint,\r\n                scryfall_set: data.set,\r\n                set_name: data.set_name,\r\n                set: data.set,\r\n                variation: data.variation,\r\n                variation_of: data.variation_of,\r\n            }\r\n            for (const key in fields) {\r\n                if ((fields as any)[key] === undefined) {\r\n                    (fields as any)[key] = null;\r\n                }\r\n            }\r\n            return fields;\r\n        } catch (error) {\r\n            console.log(\"Error fetching card:\", error);\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const handleSuggestionClick = async (suggestion: string) => {\r\n        setQuery('');\r\n        setShowSuggestions(false);\r\n\r\n        try {\r\n            if (!user || !user.uid) {\r\n                console.log(\"No user logged in\");\r\n                return;\r\n            }\r\n            const saveData = await fetchCard(suggestion);\r\n            await addDoc(collection(db, \"users\", user.uid, \"binders\", \"all\", \"cards\"), saveData);\r\n            setResults([]);\r\n        } catch (error) {\r\n            console.log(\"Error adding card to binder:\", error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-amber-700 w-3xs h-10 z-50\">\r\n            <input \r\n                className=\"border rounded px-2 py-1 w-full h-full\"\r\n                type=\"text\"\r\n                name=\"card-search\"\r\n                placeholder=\"Search for a card...\"\r\n                value={query}\r\n                onChange={handleChange}\r\n                autoComplete=\"off\"\r\n                onFocus={() => setShowSuggestions(results.length > 0)}\r\n                onBlur={() => setTimeout(() => setShowSuggestions(false), 100)}\r\n            />\r\n            {!showSuggestions && loading && <div className=\"bg-gray-800 text-white px-4 py-2\">Loading...</div>}\r\n            {showSuggestions && results.length > 0 && (\r\n                <div className=\"border rounded bg-gray-800 text-white h-64 overflow-y-auto z-50\">\r\n                    <ul>\r\n                        {results.map((suggestion) => (\r\n                            <li\r\n                                key={suggestion}\r\n                                className=\"px-4 py-2 hover:bg-gray-200 cursor-pointer\"\r\n                                onMouseDown={() => handleSuggestionClick(suggestion)}\r\n                                >\r\n                                {suggestion}\r\n                                </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CardSearch;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alec%20Jiang/Documents/mtgTracker/mtgtracker/components/binders.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { auth, db } from \"@/config/firebase-config\";\r\nimport { onAuthStateChanged, User } from \"firebase/auth\";\r\nimport { doc, collection, addDoc, setDoc, getDoc } from \"firebase/firestore\";\r\n\r\nexport const Binders: React.FC = () => {\r\n    return (\r\n        <div className='flex bg-gray-600 h-screen w-64'>\r\n            Binders\r\n        </div>\r\n    )\r\n}"],"names":[],"mappings":";;;;AAAA;;AAMO,MAAM,UAAoB;IAC7B,qBACI,8OAAC;QAAI,WAAU;kBAAiC;;;;;;AAIxD","debugId":null}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alec%20Jiang/Documents/mtgTracker/mtgtracker/src/app/library/page.tsx"],"sourcesContent":["\"use client\"\r\nimport CardSearch from '../../../components/cardsearch';\r\nimport { Binders } from '../../../components/binders';\r\nimport { useEffect, useState } from 'react';\r\nimport { onAuthStateChanged, User } from 'firebase/auth';\r\nimport { auth } from '@/config/firebase-config';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function Library() {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, (user: User | null) => {\r\n            setUser(user);\r\n            if (!user) {\r\n                router.push('/account/login');\r\n            }\r\n        });\r\n        return () => unsubscribe();\r\n    })\r\n\r\n    return (\r\n        user && (\r\n        <div className='flex flex-col h-[calc(100vh-3.5rem)] w-full'>\r\n            <div className='bg-green-600 flex flex-col p-3 h-32'>\r\n                <h1 className=\"font-bold text-5xl py-6\">Library</h1>\r\n            </div>\r\n            <div className='flex bg-fuchsia-400'>\r\n                Toolbar\r\n                <CardSearch />\r\n            </div>\r\n            <div className='flex bg-amber-500'>\r\n                <Binders />\r\n                <div className='flex bg-blue-600 w-full'>\r\n                    Cards\r\n                </div>\r\n            </div>\r\n        </div>)\r\n    );\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AANA;;;;;;;;AAQe,SAAS;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,cAAc,CAAA,GAAA,wNAAA,CAAA,qBAAkB,AAAD,EAAE,mIAAA,CAAA,OAAI,EAAE,CAAC;YAC1C,QAAQ;YACR,IAAI,CAAC,MAAM;gBACP,OAAO,IAAI,CAAC;YAChB;QACJ;QACA,OAAO,IAAM;IACjB;IAEA,OACI,sBACA,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAG,WAAU;8BAA0B;;;;;;;;;;;0BAE5C,8OAAC;gBAAI,WAAU;;oBAAsB;kCAEjC,8OAAC,yHAAA,CAAA,UAAU;;;;;;;;;;;0BAEf,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,sHAAA,CAAA,UAAO;;;;;kCACR,8OAAC;wBAAI,WAAU;kCAA0B;;;;;;;;;;;;;;;;;;AAMzD","debugId":null}}]
}